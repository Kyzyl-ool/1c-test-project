(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{KXS2:function(t,n,e){var r;!function(a,i){function o(t,n){var e,r="db_"+t,a=!1,i=null;try{e=n===sessionStorage?sessionStorage:localStorage}catch(t){e=n}function o(t){!function(t,n){try{e.setItem(t,n)}catch(t){return!1}}(r,t)}function u(t){return!!i.tables[t]}function f(t){u(t)||b("The table '"+t+"' does not exist")}function s(t,n,e){if(i.tables[t].fields=i.tables[t].fields.concat(n),void 0!==e)for(var r in i.data[t])if(i.data[t].hasOwnProperty(r))for(var a in n)i.data[t][r][n[a]]="object"==typeof e?e[n[a]]:e}function l(t,n){return n.ID=i.tables[t].auto_increment,i.data[t][i.tables[t].auto_increment]=n,i.tables[t].auto_increment++,n.ID}function c(t,n){return function(e,r){var a="string"==typeof e[t]?e[t].toLowerCase():e[t],i="string"==typeof r[t]?r[t].toLowerCase():r[t];return"DESC"===n?a===i?0:a<i?1:-1:a===i?0:a>i?1:-1}}function d(t,n){var e=[],r=!1,a=null;for(var o in i.data[t])if(i.data[t].hasOwnProperty(o)){for(var u in a=i.data[t][o],r=!0,n)if(n.hasOwnProperty(u))if("string"==typeof n[u]){if(null===a[u]||a[u].toString().toLowerCase()!==n[u].toString().toLowerCase()){r=!1;break}}else if(a[u]!==n[u]){r=!1;break}r&&e.push(o)}return e}function h(t,n){var e=[];for(var r in i.data[t])i.data[t].hasOwnProperty(r)&&!0===n(w(i.data[t][r]))&&e.push(r);return e}function p(t){var n=[];for(var e in i.data[t])i.data[t].hasOwnProperty(e)&&n.push(e);return n}function v(t,n,e){for(var r="",a=0,o=0;o<n.length;o++){r=n[o];var u=e(w(i.data[t][r]));if(u){delete u.ID;var f=i.data[t][r];for(var s in u)u.hasOwnProperty(s)&&(f[s]=u[s]);i.data[t][r]=m(t,f),a++}}return a}function y(){try{return e.setItem(r,JSON.stringify(i)),!0}catch(t){return!1}}function b(t){throw new Error(t)}function w(t){var n={};for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function g(t){return!t.toString().match(/[^a-z_0-9]/gi)}function m(t,n){var e="",r={};for(e in n){-1===i.tables[t].fields.indexOf(e)&&b("Invalid query parameter: "+e),r[e]=n[e]}return r}function O(t,n){for(var e="",r={},a=0;a<i.tables[t].fields.length;a++)r[e=i.tables[t].fields[a]]=null===n[e]||void 0===n[e]?null:n[e];return r}return(i=e[r])&&(i=JSON.parse(i))&&i.tables&&i.data||(g(t)?(i={tables:{},data:{}},y(),a=!0):b("The name '"+t+"' contains invalid characters")),{commit:function(){return y()},isNew:function(){return a},drop:function(){e.hasOwnProperty(r)&&delete e[r],i=null},getItem:function(t){return function(t){try{return e.storage[t]}catch(t){return null}}(t)},replace:function(t){o(t)},serialize:function(){return JSON.stringify(i)},tableExists:function(t){return u(t)},tableFields:function(t){return function(t){return i.tables[t].fields}(t)},tableCount:function(){return function(){var t=0;for(var n in i.tables)i.tables.hasOwnProperty(n)&&t++;return t}()},columnExists:function(t,n){return function(t,n){var e=!1,r=i.tables[t].fields;for(var a in r)if(r[a]===n){e=!0;break}return e}(t,n)},createTable:function(t,n){var e=!1;if(g(t))if(this.tableExists(t))b("The table name '"+t+"' already exists.");else{var r,a=!0;for(r=0;r<n.length;r++)if(!g(n[r])){a=!1;break}if(a){var o={};for(r=0;r<n.length;r++)o[n[r]]=!0;for(var u in delete o.ID,n=["ID"],o)o.hasOwnProperty(u)&&n.push(u);!function(t,n){i.tables[t]={fields:n,auto_increment:1},i.data[t]={}}(t,n),e=!0}else b("One or more field names in the table definition contains invalid characters")}else b("The database name '"+t+"' contains invalid characters.");return e},createTableWithData:function(t,n){("object"!=typeof n||!n.length||n.length<1)&&b("Data supplied isn't in object form. Example: [{k:v,k:v},{k:v,k:v} ..]");var e=Object.keys(n[0]);if(this.createTable(t,e)){this.commit();for(var r=0;r<n.length;r++)l(t,n[r])||b("Failed to insert record: ["+JSON.stringify(n[r])+"]");this.commit()}return!0},dropTable:function(t){f(t),function(t){delete i.tables[t],delete i.data[t]}(t)},truncate:function(t){f(t),function(t){i.tables[t].auto_increment=1,i.data[t]={}}(t)},alterTable:function(t,n,e){var r=!1;if(g(t)){if("object"==typeof n){var a,i=!0;for(a=0;a<n.length;a++)if(!g(n[a])){i=!1;break}if(i){var o={};for(a=0;a<n.length;a++)o[n[a]]=!0;for(var u in delete o.ID,n=[],o)o.hasOwnProperty(u)&&n.push(u);s(t,n,e),r=!0}else b("One or more field names in the table definition contains invalid characters")}else if("string"==typeof n)if(g(n)){var f=[];f.push(n),s(t,f,e),r=!0}else b("One or more field names in the table definition contains invalid characters")}else b("The database name '"+t+"' contains invalid characters");return r},rowCount:function(t){return f(t),function(t){var n=0;for(var e in i.data[t])i.data[t].hasOwnProperty(e)&&n++;return n}(t)},insert:function(t,n){return f(t),l(t,O(t,n))},insertOrUpdate:function(t,n,e){f(t);var r=[];if(n?"object"==typeof n?r=d(t,m(t,n)):"function"==typeof n&&(r=h(t,n)):r=p(t),0===r.length)return l(t,O(t,e));var a=[];return v(t,r,(function(t){return a.push(t.ID),e})),a},update:function(t,n,e){f(t);var r=[];return n?"object"==typeof n?r=d(t,m(t,n)):"function"==typeof n&&(r=h(t,n)):r=p(t),v(t,r,e)},query:function(t,n,e,r,a,o){f(t);var u=[];return n?"object"==typeof n?u=d(t,m(t,n)):"function"==typeof n&&(u=h(t,n)):u=p(t),function(t,n,e,r,a,o){var u,f=null,s=[],l=null;for(u=0;u<n.length;u++)f=n[u],l=i.data[t][f],s.push(w(l));if(a&&a instanceof Array)for(u=0;u<a.length;u++)s.sort(c(a[u][0],a[u].length>1?a[u][1]:null));if(o&&o instanceof Array){for(var d=0;d<o.length;d++){var h={},p=o[d];for(u=0;u<s.length;u++)void 0!==s[u]&&(s[u].hasOwnProperty(p)&&h.hasOwnProperty(s[u][p])?delete s[u]:h[s[u][p]]=1)}var v=[];for(u=0;u<s.length;u++)void 0!==s[u]&&v.push(s[u]);s=v}return r=r&&"number"==typeof r?r:null,(e=e&&"number"==typeof e?e:null)&&r?s=s.slice(e,e+r):e?s=s.slice(e):r&&(s=s.slice(e,r)),s}(t,u,r,e,a,o)},queryAll:function(t,n){return n?this.query(t,n.hasOwnProperty("query")?n.query:null,n.hasOwnProperty("limit")?n.limit:null,n.hasOwnProperty("start")?n.start:null,n.hasOwnProperty("sort")?n.sort:null,n.hasOwnProperty("distinct")?n.distinct:null):this.query(t)},deleteRows:function(t,n){f(t);var e=[];return n?"object"==typeof n?e=d(t,m(t,n)):"function"==typeof n&&(e=h(t,n)):e=p(t),function(t,n){for(var e=0;e<n.length;e++)i.data[t].hasOwnProperty(n[e])&&delete i.data[t][n[e]];return n.length}(t,e)}}}t.exports?t.exports=o:void 0===(r=function(){return o}.call(n,e,n,t))||(t.exports=r)}("undefined"!=typeof window&&window)}}]);